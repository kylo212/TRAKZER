<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Trakzer</title>
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
</head>
<body>
    <div class="navbar">
        <div class="logo">
            <a href="/">Trakzer</a>
        </div>
        <div class="nav-links">
            <a href="/home" class="nav-item"><i class="fas fa-home"></i></a>
            <a href="/dm" class="nav-item"><i class="fas fa-comment"></i></a>
            <a href="/profile" class="nav-item"><i class="fas fa-user"></i></a>
            <a href="/map" class="nav-item"><i class="fas fa-map"></i></a>
            <a href="/trakzershop" class="nav-item"><i class="fas fa-store"></i></a>
            <a href="/settings" class="nav-item"><i class="fas fa-cog"></i></a>
        </div>
    </div>

    <div class="content">
        <div class="post-section">
            <h2>What's on your mind?</h2>
            <textarea id="post-input" placeholder="Write something..." rows="4"></textarea>
            <button onclick="createPost()">Post</button>
        </div>

        <div class="posts-container">
            <div class="post" id="post-1">
                <div class="post-header">
                    <h3>User 1</h3>
                    <span>2 hours ago</span>
                </div>
                <p>This is a sample post</p>
                <div class="post-actions">
                    <button class="like-btn" onclick="likePost(1)">
                        <i class="fas fa-thumbs-up"></i> Like
                    </button>
                    <button class="comment-btn" onclick="toggleCommentSection(1)">
                        <i class="fas fa-comment"></i> Comment
                    </button>
                </div>
                <div class="comment-section" id="comment-section-1">
                    <input type="text" placeholder="Add a comment" id="comment-input-1">
                    <button onclick="postComment(1)">Comment</button>
                    <div class="comments" id="comments-1"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const posts = [
            { id: 1, user: "User 1", content: "This is a sample post", likes: 0, comments: [] }
        ];

        function createPost() {
            const postContent = document.getElementById('post-input').value;
            if (postContent.trim() === "") return;
            const newPost = {
                id: posts.length + 1,
                user: "Current User",
                content: postContent,
                likes: 0,
                comments: []
            };
            posts.push(newPost);
            displayPosts();
            document.getElementById('post-input').value = '';
        }

        function displayPosts() {
            const postsContainer = document.querySelector('.posts-container');
            postsContainer.innerHTML = '';
            posts.forEach(post => {
                const postElement = document.createElement('div');
                postElement.classList.add('post');
                postElement.id = `post-${post.id}`;
                postElement.innerHTML = `
                    <div class="post-header">
                        <h3>${post.user}</h3>
                        <span>Just now</span>
                    </div>
                    <p>${post.content}</p>
                    <div class="post-actions">
                        <button class="like-btn" onclick="likePost(${post.id})">
                            <i class="fas fa-thumbs-up"></i> Like (${post.likes})
                        </button>
                        <button class="comment-btn" onclick="toggleCommentSection(${post.id})">
                            <i class="fas fa-comment"></i> Comment
                        </button>
                    </div>
                    <div class="comment-section" id="comment-section-${post.id}">
                        <input type="text" placeholder="Add a comment" id="comment-input-${post.id}">
                        <button onclick="postComment(${post.id})">Comment</button>
                        <div class="comments" id="comments-${post.id}">${post.comments.join('')}</div>
                    </div>
                `;
                postsContainer.appendChild(postElement);
            });
        }

        function likePost(postId) {
            const post = posts.find(p => p.id === postId);
            post.likes++;
            displayPosts();
        }

        function toggleCommentSection(postId) {
            const commentSection = document.getElementById(`comment-section-${postId}`);
            commentSection.style.display = commentSection.style.display === 'none' ? 'block' : 'none';
        }

        function postComment(postId) {
            const commentInput = document.getElementById(`comment-input-${postId}`);
            const commentText = commentInput.value.trim();
            if (commentText === "") return;
            const post = posts.find(p => p.id === postId);
            post.comments.push(`<div class="comment"><strong>You:</strong> ${commentText}</div>`);
            displayPosts();
            commentInput.value = '';
        }

        displayPosts();
    </script>
</body>
</html>
